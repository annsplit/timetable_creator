<head>

    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">



    <style>

        #pageHeader
        {
            font-family: arial;
            font-size: 34;
            margin: 20px;
        }

        #messagesBox
        {
            width: 600px;
            margin: 20px;
            font-family: Verdana;
            font-size: 13;
            background-color: lightblue;
            float: right;
            height: 80%;
            position: fixed;
            right: 20px;
        }



        .dayOfWeek
        {
            width: 1200px;
            margin: 20px;
            font-family: Verdana;
            font-size: 13;
            background-color: lightgoldenrodyellow;
            float: left;
            padding: 10px;
        }


        .dayOfWeekHeader
        {
            width: 1350px;
            font-size: 22;
            font-family: arial;
            border: 0px;
            height: 60px;

        }

        #messageList, .timegrid{
            list-style-type: none;
            padding: 5px;
            float: left;
            margin: 5px;
            width: 550px;
            min-height: 100px;
        }

        #messageList li, .timegrid li {
            margin: 10px;
            padding: 5px;

            min-height: 40px;
            height: auto;
        }


        .message {

            width: 300px;
            background: white;
            float: left;
            position: relative;

        }
        .sectional {

            width: 500px;

            float: left;
            margin-top: -0.3px;

        }

        .plenary {

            width: 500px;
            float: left;

        }

        .simple{
            background-color: whitesmoke;
            width: 450px;
            float: left;
            margin-left: -5px;
        }

        .time{
            list-style: none;

            margin-right: 20px;
        }

        .timetext{
            font-size: 8px;

            position: absolute;
        }

        .timedrop{
            border: 1px solid white;
            list-style: none;
            margin-top: -5px;
        }

        .resizablePlenary{
            background-color: mediumpurple;
            width: 500px;
            float: left;
            position: relative;
            padding: 5px;
        }

        .resizableSectional{
            background-color: greenyellow;
            width: 500px;
            position: relative;
            float: left;
            margin-top: -0.3px;
        }
  </style>

</head>


<script>
    $(function() {
        $( "#messageList, .timegrid, .plenary, .simple, .sectional, .timedrop" ).sortable({
            connectWith: ".connectedSortable",
            placeholder: "ui-state-highlight"
        }).disableSelection();
    });

    jQuery(function() {
        jQuery(" .resizablePlenary, .resizableSectional").resizable({minWidth: "300", minHeight: "100"});
    });

    jQuery(function() {
        jQuery(".message").resizable({minWidth: "300"});
    });

</script>


<p id="pageHeader">Раписание научной конференции {{ conference_name }}</p>

<br>

<div id="messagesBox">
Список докладов:
{% if message_list %}
    <ul id="messageList" class="connectedSortable">

        {% for report in message_list %}
            <li class="message">
                {{ report.RName }}
                <br><i>{{ report.Person }}</i>
            </li>
        {% endfor %}

        {% for section in section_list %}
            {% if section.SName == "Пленарные"%}
                <li class="resizablePlenary">
                    <ul class="connectedSortable timegrid plenary">
                        {{ section.SName }}
                        <br><i>{{ section.Person }}</i>

                        <br><br>Перетащите доклады сюда
                    </ul>
                </li>


            {% elif section.SName == "Секционные" %}
                <li class="resizableSectional">
                    <ul class="connectedSortable timegrid sectional">
                        {{ section.SName }}
                        <br><i>{{ section.Person }}</i>
                        <br><br>Перетащите доклады сюда
                    </ul>
                </li>

            {% else %}
                <li>
                    <ul class="timegrid simple">
                    <li> {{ section.SName }}, {{ section.Date }}, {{ section.StartTime }}</li>
                </ul>
                </li>
            {% endif %}
        {% endfor %}




    </ul>


{% else %}
    <p>No reports.</p>
{% endif %}

</div>


{% for x in date_list %}
<div class="dayOfWeek">
    <div class="dayOfWeekHeader">{{ x|date:"l, " }}{{ x }}</div>

        {% for y in time_list %}
        <div class="time">
            <div class="timetext">{{ y|time:"H:i " }}</div>
            <ul class=" connectedSortable timedrop">
            {% comment %}
            {% for section in section_list %}
                {% if x == section.Date and section.SName == "Пленарные" and y == section.StartTime %}
                    <ul class="connectedSortable timegrid plenary">
                        {{ section.SName }}
                        <br><i>{{ section.Person }}</i>
                        <br><i>{{ section.Date }}</i>
                        <br><i>{{ section.StartTime }}</i>
                        <br><br>Перетащите доклады сюда
                    </ul>


                {% elif x == section.Date and section.SName == "Секционные" and y == section.StartTime %}
                    <ul class="connectedSortable timegrid sectional">
                        {{ section.SName }}
                        <br><i>{{ section.Person }}</i>
                        <br><i>{{ section.Date }}</i>
                        <br><i>{{ section.StartTime }}</i>
                        <br><br>Перетащите доклады сюда
                    </ul>


                {% elif x == section.Date and y == section.StartTime %}
                    <ul class="timegrid simple">
                        <li> {{ section.SName }}, {{ section.Date }}, {{ section.StartTime }}</li>
                    </ul>
                {% endif %}
            {% endfor %}
            {% endcomment %}
            </ul></div>
        {% endfor %}


</div>
{% endfor %}


{% comment %}
{{ form }}
{% endcomment %}
