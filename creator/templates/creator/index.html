<head>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://www.jeasyui.com/easyui/themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="http://www.jeasyui.com/easyui/themes/icon.css">
	<link rel="stylesheet" type="text/css" href="http://www.jeasyui.com/easyui/demo/demo.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.1.min.js"></script>
	<script type="text/javascript" src="http://www.jeasyui.com/easyui/jquery.easyui.min.js"></script>

    <style>


        #h2
        {
            font-family: arial;
            font-size: 34;
            margin: 20px;
        }

        .messagesBox    /*left*/
        {
            width: 450px;
            margin: 20px;
            font-family: Verdana;
            font-size: 13;
        }

        .message    /*item*/
        {
            height: 60px;
            background: #DEDEDE;
        }

        .dayOfWeek     /*right*/
        {
            width: 1350px;
            background: ghostwhite;
            margin: 20px;
            font-family: Verdana;
            font-size: 13;
            padding: 15px;

        }

        .dayOfWeek td.drop  /*drop*/
        {
            height: 60px;
        }

        .dayOfWeekHeader
        {
            width: 1350px;
            background: white;
            font-size: 22;
            font-family: arial;
            border: 0px;
            height: 60px;

        }

        .assigned{
			background: lightgreen;
		}

        .dayOfWeek .over{
			background:#FBEC88;
		}


        .trash{
			background-color:red;
		}
    </style>

    <script type="text/javascript">
/*
    $( init );
    function init() {
        $('.messagesBox .message').draggable(
                {
                    cursor: 'move'
                    revert:true,
                    proxy:'clone'
                }
        );
        $('.drop').droppable( {
            drop: handleDropEvent
        } );
    }

    function handleDropEvent( event, ui ) {
        var draggable = ui.draggable;
        ui.draggable.addClass( 'full' );
}
*/

        $(function(){
			$('.messagesBox .message').draggable({
				revert:true,
				proxy:'clone'
			});
			$('.dayOfWeek .drop').droppable({
				onDragEnter:function(){
					$(this).addClass('over');
				},
				onDragLeave:function(){
					$(this).removeClass('over');
				},
				onDrop:function(e,source){
					$(this).removeClass('over');
					if ($(source).hasClass('assigned')){
						$(this).append(source);
					} else {
						var c = $(source).clone().addClass('assigned');
						$(this).empty().append(c);
						c.draggable({
							revert:true
						});
					}
				}
			});
			$('.messagesBox').droppable({
				accept:'.assigned',
				onDragEnter:function(e,source){
					$(source).addClass('trash');
				},
				onDragLeave:function(e,source){
					$(source).removeClass('trash');
				},
				onDrop:function(e,source){
					$(source).remove();
				}
			});
		});


</script>
</head>

<p id="h2">Раписание научной конференции "ПаВТ-2014"</p>

<table align="left" border="1" class="dayOfWeek">
    <tr>
        <td class="dayOfWeekHeader">
            Понедельник
        </td>
    </tr>
    <tr>
        <td class="drop"></td>
    </tr>
    <tr>
        <td class="drop">
            блаблалаааааа
        </td>
    </tr>
    <tr>
        <td class="drop">
            блаблалааааааааааааааа
        </td>
    </tr>

</table>

{% if latest_message_list %}
    <table align="right" class="messagesBox">

        {% for message in latest_message_list %}
            <tr>
                <td><div class="message">{{ message.topic }}
                <br><i>{{ message.name }}</i></div></td>
            </tr>
        {% endfor %}

    </table>
{% else %}
    <p>No messages are available.</p>
{% endif %}

